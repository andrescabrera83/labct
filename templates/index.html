<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form and Table</title>
    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<style>
    body {
        background-color: darkgrey;
        margin-top: 50px;
        margin-bottom: 50px;
    }

    .container {
        background-color: white;
        padding: 30px 60px 30px 60px ;
        -webkit-border-radius: 14px;
        -moz-border-radius: 14px;
        border-radius: 14px;
        min-width: 80%;

    }
</style>

<body>


    <div class="container" style="margin-top: 50px; width: 100%;">

        <div style="margin-top: 20px;">
            <h2 style="margin-bottom: 28px;">Fornecedores</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th style="text-align: center; vertical-align: middle;">ID</th>
                        <th style="text-align: center; vertical-align: middle;">Fornecedor</th>
                        <th style="text-align: center; vertical-align: middle; padding: 0px 20px 0px 20px;">Tempo de entrega do produto 
                            (em dias)</th>
                        <th style="text-align: center; vertical-align: middle; padding: 0px 20px 0px 20px;">Prazo para pagamento
                            (em dias)</th>
                        <th style="text-align: center; vertical-align: middle; padding: 0px 20px 0px 20px;">Dia Fixo Para Realizar O Pedido</th>
                        <th style="text-align: center; vertical-align: middle;">Nome do(a) Vendedor(a)</th>
                        <th style="text-align: center; vertical-align: middle;">Contato Telefônico</th>
                        <th style="text-align: center; vertical-align: middle;">E-mail</th>
                            
                        <th style="text-align: right; vertical-align: middle;">Action</th>
                    </tr>
                </thead>
                <tbody>
                    {% for fornecedor in fornecedores %}
                    <tr>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.id_fornecedor }}</td>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.nome_fornecedor }}</td>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.tempo_entrega }}</td>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.prazo_pagamento}}</td>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.dia_pedido}}</td>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.nome_vendedor}}</td>
                        <td style="text-align: center; vertical-align: middle;">{{ fornecedor.contato_tel}}</td>
                        <td style="text-align: center; vertical-align: middle;" >{{ fornecedor.email_vendedor}}</td>
                        <td style="text-align: right;">
                            <div style="display: flex; flex-direction: row;">

                                <button type="button" style="margin-right: 8px; display: flex; align-items: center;" class="btn btn-outline-secondary btn-sm" data-toggle="modal"
                                data-target="#editModal{{ fornecedor.id_fornecedor }}">
                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                                    <path d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z"/>
                                  </svg>
                            </button>
                            <form action="{{ url_for('delete', id=fornecedor.id_fornecedor) }}" method="post" style="display: inline;">
                                <button type="submit" class="btn btn-danger btn-sm" style="display: flex; align-items: center;">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                                      </svg>
                                </button>
                            </form>

                            </div>
                            
                        </td>
                    </tr>
                    <!-- Edit Modal -->
                    <div class="modal fade" id="editModal{{ fornecedor.id_fornecedor }}" tabindex="-1" role="dialog"
                        aria-labelledby="editModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="editModalLabel">Atualizar Fornecedor</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form action="{{ url_for('edit', id=fornecedor.id_fornecedor) }}" method="post">

                                        <div class="form-group">
                                            <label for="edit-nome_fornecedor">Nome Do Fornecedor:</label>
                                            <input type="text" class="form-control" id="edit-nome_fornecedor" name="nome_fornecedor"
                                                value="{{ fornecedor.nome_fornecedor }}" required>
                                        </div>

                                        <div class="form-group">
                                            <label for="edit-tempo_entrega">Tempo de Entrega:</label>
                                            <input type="number" class="form-control" id="edit-tempo_entrega" name="tempo_entrega"
                                                value="{{ fornecedor.tempo_entrega }}" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="edit-prazo_pagamento">Prazo para pagamento:</label>
                                            <input type="number" class="form-control" id="edit-prazo_pagamento" name="prazo_pagamento"
                                                value="{{ fornecedor.prazo_pagamento }}" required>
                                        </div>

                                        <div class="form-group">
                                            <label for="edit-dia_pedido">Dia Para Realizar Pedido:</label>
                                                <select class="form-control" id="edit-dia_pedido" value="{{ fornecedor.dia_pedido }}" name="dia_pedido" required>
                                                    <option value="Segunda-Feira">Segunda-Feira</option>
                                                    <option value="Terça-Feira">Terça-Feira</option>
                                                    <option value="Quarta-Feira">Quarta-Feira</option>
                                                    <option value="Quinta-Feira">Quinta-Feira</option>
                                                    <option value="Sexta-Feira">Sexta-Feira</option>
                                                    <option value="Sábado">Sábado</option>
                                                    <option value="Domingo">Domingo</option>
                                                  </select>
                                        </div>

                                        <div class="form-group">
                                            <label for="edit-nome_vendedor">Nome Do Vendedor:</label>
                                            <input type="text" class="form-control" id="edit-nome_vendedor" name="nome_vendedor"
                                                value="{{ fornecedor.nome_vendedor }}" required>
                                        </div>

                                        <div class="form-group">
                                            <label for="edit-contato_tel">Contato Telefonico:</label>
                                            <input type="text" class="form-control" id="edit-contato_tel" name="contato_tel"
                                                value="{{ fornecedor.contato_tel }}" required>
                                        </div>

                                        <div class="form-group">
                                            <label for="edit-email_vendedor">Email:</label>
                                            <input type="text" class="form-control" id="edit-email_vendedor" name="email_vendedor"
                                                value="{{ fornecedor.email_vendedor }}" required>
                                        </div>

                                        <button type="submit" class="btn btn-primary">Save Changes</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div style="margin-top: 65px;">

            <h2>Cadastrar Fornecedor</h2>
            <form action="/" method="post">
                <div class="form-group">
                    <label for="nome_fornecedor">Nome Do Fornecedor:</label>
                    <input type="text" class="form-control" id="nome_fornecedor" name="nome_fornecedor" required>
                </div>
                <div class="form-group">
                    <label for="tempo_entrega">Tempo de entrega do produto 
                        (em dias):</label>
                    <input type="number" class="form-control" id="tempo_entrega" name="tempo_entrega" min="0" required>
                </div>
                <div class="form-group">
                    <label for="prazo_pagamento">Prazo para pagamento
                        (em dias):</label>
                    <input type="number" class="form-control" id="prazo_pagamento" name="prazo_pagamento" min="0" required>
                </div>
                <div class="form-group">
                    <label for="dia_pedido">Dia fixo para realizar o pedido</label>
                    <select class="form-control" id="dia_pedido" name="dia_pedido" required>
                        <option value="Segunda-Feira">Segunda-Feira</option>
                        <option value="Terça-Feira">Terça-Feira</option>
                        <option value="Quarta-Feira">Quarta-Feira</option>
                        <option value="Quinta-Feira">Quinta-Feira</option>
                        <option value="Sexta-Feira">Sexta-Feira</option>
                        <option value="Sábado">Sábado</option>
                        <option value="Domingo">Domingo</option>
                      </select>
                </div>
                <div class="form-group">
                    <label for="nome_vendedor">Nome Do Venededor Responsavel:</label>
                    <input type="text" class="form-control" id="nome_vendedor" name="nome_vendedor" required>
                </div>
                <div class="form-group">
                    <label for="contato_tel">Contato Telefonico Do Vendedor Responsavel:</label>
                    <input type="text" class="form-control" id="contato_tel" name="contato_tel" required>
                </div>
                <div class="form-group">
                    <label for="email_vendedor">E-Mail Do Vendedor Responsavel:</label>
                    <input type="email" class="form-control" id="email_vendedor" name="email_vendedor">
                </div>
                <button type="submit" class="btn btn-dark">Cadastrar</button>
            </form>

        </div>


    </div>

    <!-- Bootstrap JS -->
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>